<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Composition Analyst | Interactive Learning Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom Scrollbar for clean UI */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4; 
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e; 
        }

        /* Chart Container Utilities */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Max width for large screens */
            height: 300px;
            max-height: 400px;
            margin: 0 auto;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Interactive Text Highlight Styles */
        .interactive-text {
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 2px solid transparent;
            padding-bottom: 2px;
        }
        
        .interactive-text:hover {
            background-color: #e7e5e4; /* stone-200 */
        }

        .interactive-text.active {
            background-color: #fde68a; /* amber-200 */
            border-bottom: 2px solid #d97706; /* amber-600 */
            color: #451a03;
        }

        .checklist-item.completed {
            text-decoration: line-through;
            color: #9ca3af;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Stone/Amber). Background: Stone-50. Text: Stone-800. Accents: Amber-500/Stone-600. Rational: Creates a calm, academic, paper-like atmosphere suitable for reading and study. -->
    
    <!-- Application Structure Plan: 
         1. Hero Section: Sets the context (learning from a model).
         2. "The Deconstruction" (Core Interaction): A split-view interface. 
            - Left: The full essay text, segmented into interactive spans.
            - Right: A dynamic "Insight Panel" that updates when text is clicked, showing the specific annotation and "Why it works".
            - Logic: Encourages active reading. Users hunt for the techniques.
         3. "Skill Distribution" (Data Viz): A chart visualizing the balance of skills used in the essay (Structure vs. Content vs. Emotion).
         4. "Mastery Checklist" (Interactive List): The checklist from the source, turned into a toggleable task list for students to use on their own work.
    -->
    
    <!-- Visualization & Content Choices:
         1. Interactive Text Block: Replaces static table. Goal: Contextual learning. Method: HTML spans + JS Click listeners.
         2. Dynamic Insight Card: Replaces right-hand column. Goal: Focus. Method: JS DOM updates.
         3. Radar/Bar Chart: Visualizes the "Checklist Categories". Goal: Show that a good essay is balanced. Method: Chart.js.
         4. Progress Bars: For the checklist section. Goal: Gamify the requirements. Method: HTML/Tailwind/JS.
         -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-stone-800 font-sans antialiased selection:bg-amber-200 selection:text-amber-900">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-stone-50/90 backdrop-blur-md border-b border-stone-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2">
                    <span class="text-2xl">üìù</span>
                    <span class="font-bold text-xl tracking-tight text-stone-900">Comp<span class="text-amber-600">Mastery</span></span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <button onclick="scrollToSection('deconstruction')" class="text-stone-600 hover:text-amber-600 font-medium transition">Deep Analysis</button>
                    <button onclick="scrollToSection('skills-viz')" class="text-stone-600 hover:text-amber-600 font-medium transition">Skill Breakdown</button>
                    <button onclick="scrollToSection('checklist')" class="text-stone-600 hover:text-amber-600 font-medium transition">Student Checklist</button>
                </div>
                <!-- Mobile menu button wrapper -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-stone-600 hover:text-stone-900 focus:outline-none">
                        <span class="text-2xl">‚ò∞</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-stone-50 border-t border-stone-200 px-4 pt-2 pb-4 shadow-lg">
             <button onclick="scrollToSection('deconstruction')" class="block w-full text-left py-2 text-stone-600 hover:bg-stone-100 rounded">Deep Analysis</button>
             <button onclick="scrollToSection('skills-viz')" class="block w-full text-left py-2 text-stone-600 hover:bg-stone-100 rounded">Skill Breakdown</button>
             <button onclick="scrollToSection('checklist')" class="block w-full text-left py-2 text-stone-600 hover:bg-stone-100 rounded">Student Checklist</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative bg-white border-b border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 text-center">
            <div class="inline-block p-2 bg-amber-50 rounded-full mb-4 border border-amber-100">
                <span class="text-amber-700 font-semibold text-sm px-2 uppercase tracking-wide">For F5 Students</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold text-stone-900 tracking-tight mb-4">
                Mastering the <span class="text-amber-600">Open Day Report</span>
            </h1>
            <p class="max-w-2xl mx-auto text-lg md:text-xl text-stone-600 mb-8 leading-relaxed">
                Analyze a top-tier model composition to understand exactly what examiners look for. 
                Explore the structure, vocabulary, and emotional depth that turned a simple report into a memorable story.
            </p>
            <div class="flex justify-center gap-4">
                <button onclick="scrollToSection('deconstruction')" class="px-8 py-3 bg-stone-900 text-white font-bold rounded-lg shadow-lg hover:bg-stone-800 hover:shadow-xl transition transform hover:-translate-y-0.5">
                    Start Analysis
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-24">

        <!-- Section 1: The Deconstruction (Interactive Reader) -->
        <section id="deconstruction" class="scroll-mt-24">
            <div class="mb-10 text-center md:text-left">
                <h2 class="text-3xl font-bold text-stone-900 mb-4">The Anatomy of a Good Article</h2>
                <p class="text-stone-600 text-lg max-w-3xl">
                    Below is the complete model article. <strong class="text-amber-600">Click on the highlighted text segments</strong> to reveal the specific writing technique used. Understanding <em>why</em> a sentence works is key to improving your own writing.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row gap-8 lg:h-[700px]">
                <!-- Left: Interactive Text -->
                <div class="lg:w-7/12 bg-white rounded-xl shadow-sm border border-stone-200 p-6 md:p-8 overflow-y-auto relative" id="essay-container">
                    <h3 class="text-2xl font-serif font-bold text-center mb-6 text-stone-800 border-b pb-4 border-stone-100">
                        More than a Celebration ‚Äì My Experience as Chairperson
                    </h3>
                    <div id="essay-content" class="font-serif text-lg leading-relaxed text-stone-700 space-y-4">
                        <!-- JS will inject spans here -->
                    </div>
                </div>

                <!-- Right: Dynamic Insight Panel -->
                <div class="lg:w-5/12">
                    <div id="insight-panel" class="sticky top-24 bg-stone-100 rounded-xl border border-stone-200 p-6 md:p-8 shadow-inner h-full max-h-[600px] flex flex-col justify-center items-center text-center transition-all duration-300">
                        <div class="text-6xl mb-4 opacity-20">üí°</div>
                        <h4 class="text-xl font-bold text-stone-400 mb-2">Select a sentence</h4>
                        <p class="text-stone-500">Click any highlighted part of the article to see the analysis.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Skills Visualization -->
        <section id="skills-viz" class="scroll-mt-24 bg-white rounded-2xl shadow-sm border border-stone-200 p-8 md:p-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-stone-900 mb-4">Composition Balance</h2>
                    <p class="text-stone-600 mb-6">
                        A high-quality composition isn't just about big words. It requires a balance of <strong>Structural</strong> integrity, <strong>Descriptive Content</strong>, and <strong>Emotional Reflection</strong>. The chart illustrates the distribution of these key elements found in the model article.
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 font-bold text-xs mt-0.5 mr-3">S</span>
                            <div>
                                <strong class="block text-stone-900">Structure</strong>
                                <span class="text-sm text-stone-500">Titles, transitions, and logical flow.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-emerald-100 text-emerald-600 font-bold text-xs mt-0.5 mr-3">C</span>
                            <div>
                                <strong class="block text-stone-900">Content & Detail</strong>
                                <span class="text-sm text-stone-500">Specific examples, names, and sensory imagery.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-amber-100 text-amber-600 font-bold text-xs mt-0.5 mr-3">R</span>
                            <div>
                                <strong class="block text-stone-900">Reflection & Tone</strong>
                                <span class="text-sm text-stone-500">Personal voice, emotional insights, and thematic conclusions.</span>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="flex flex-col items-center justify-center w-full">
                    <div class="chart-container">
                        <canvas id="skillsChart"></canvas>
                    </div>
                    <p class="text-xs text-stone-400 mt-4 text-center">Data derived from the 23 annotated points in the model article.</p>
                </div>
            </div>
        </section>

        <!-- Section 3: Student Checklist -->
        <section id="checklist" class="scroll-mt-24">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-stone-900 mb-2">Student Checklist</h2>
                <p class="text-stone-600">
                    Use this interactive checklist for your own writing. Ensure you have addressed all criteria to achieve a high standard.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="checklist-container">
                <!-- Checklist items injected via JS -->
            </div>
            
            <div class="mt-8 bg-amber-50 rounded-lg p-4 border border-amber-200 flex justify-between items-center">
                <div class="text-amber-800 font-medium">
                    Progress: <span id="progress-text">0</span>/10 Criteria Met
                </div>
                <div class="w-1/2 bg-amber-200 rounded-full h-2.5 dark:bg-amber-200">
                    <div id="progress-bar" class="bg-amber-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-stone-900 text-stone-400 py-12 mt-12 border-t border-stone-800">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="mb-4">Designed for F5 Students ‚Ä¢ English Composition Analysis</p>
            <p class="text-sm text-stone-600">Based on the Annotated Model Composition source material.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Source ---
        const essayData = [
            {
                id: 1,
                text: "More than a Celebration ‚Äì My Experience as Chairperson",
                annotation: "Strong, Thematic Title",
                explanation: "Meaningful and memorable. It tells the reader the article is reflective and personal. Avoids generic titles like 'Open Day Report.'",
                category: "Structure"
            },
            {
                id: 2,
                text: "On an ordinary weekend, hundreds gather to celebrate the birthday of a place of warmth, memory, and love.",
                annotation: "Engaging Hook (Atmosphere/Imagery)",
                explanation: "Starts with general, evocative language to draw the reader in, creating an emotional landscape immediately.",
                category: "Language"
            },
            {
                id: 3,
                text: "Students greeted guest cheerfully, old boys rejoiced with their teachers as they reminisced their school lives; visitors enjoyed game stalls and exhibitions as they submerged themselves into the delightful atmosphere ‚Äî it was Sing Yin‚Äôs 55th Anniversary Open Day.",
                annotation: "Wide-Angle Scene Setting",
                explanation: "Before talking about themselves, the writer captures the entire event (students, old boys, visitors). This shows command of perspective.",
                category: "Content"
            },
            {
                id: 4,
                text: "Beyond the laughter, teachers and students had put countless hours of effort to make this moment as enjoyable as possible.",
                annotation: "Insightful Transition",
                explanation: "Acknowledges the hard work, which smoothly pivots to their own role and effort.",
                category: "Structure"
            },
            {
                id: 5,
                text: "As the chairperson of Visual Arts Club, this testimonial moment has also left unforgettable memories in my heart that I can still vividly recall through the weeks of hard work.",
                annotation: "Clear Purpose & Role",
                explanation: "The introduction ends by stating the writer's role and signaling the article's two core focuses: preparation and memorable experience.",
                category: "Structure"
            },
            {
                id: 6,
                text: "Everything started in early July when the school started preparing for this significant event after the exams.",
                annotation: "Chronological Structure",
                explanation: "Begins the 'Preparation' section clearly. Using a time reference ('early July') provides a structured starting point.",
                category: "Structure"
            },
            {
                id: 7,
                text: "As the time slowly approaches the Open Day, it is easy to tell that time management would be the most prominent problem we would face in the coming weeks.",
                annotation: "Identifying a Challenge (Realism)",
                explanation: "Adds realism by mentioning a real-world difficulty ('time management'). This makes the eventual success more meaningful.",
                category: "Content"
            },
            {
                id: 8,
                text: "After careful discussions with my teacher in charge and a few other club members, we decided to create a gallery called ‚ÄúSing Yin on a Sketchbook‚Äù, where we meticulously arranged the wonderful works of both current students and old boys.",
                annotation: "Specific Detail & Name-Dropping",
                explanation: "Gives the project a specific, evocative name. Crucially, it uses strong adverbs ('meticulously') and covers both current and old students' work.",
                category: "Content"
            },
            {
                id: 9,
                text: "On the process, we had found drawings by our classmates, including myself, that were done in Form One which gave me and other helpers a good laugh.",
                annotation: "Human Detail",
                explanation: "This small anecdote adds warmth and relatability. It shows the personal connection to the project.",
                category: "Reflection"
            },
            {
                id: 10,
                text: "To further match the theme of our school anniversary, we further devoted afternoons into creating a chalk painting on the blackboard ‚Äî a drawing of our school accompanied by the text ‚ÄúHappy 55th Anniversary‚Äù.",
                annotation: "Clear Task Description",
                explanation: "Directly addresses the 'how you prepared' part with concrete actions (chalk art).",
                category: "Content"
            },
            {
                id: 11,
                text: "While the preparation process was no doubt exhausting, we couldn‚Äôt help but feel the overwhelming sense of accomplishment when we successfully transformed a regular classroom into a warmful and delicately-designed gallery that encapsulates the growth of our school artwork by artwork.",
                annotation: "Reflective Conclusion to a Paragraph",
                explanation: "Doesn't just list tasks, but summarizes the effort with a feeling ('sense of accomplishment') and a mature verb ('encapsulates').",
                category: "Reflection"
            },
            {
                id: 12,
                text: "The school gates slowly opened, signalling the start of our school‚Äôs 55th anniversary Open Day.",
                annotation: "Smooth Transition",
                explanation: "A clear, short sentence moves the narrative from Preparation to the Event Day.",
                category: "Structure"
            },
            {
                id: 13,
                text: "Waves after waves of visitors flooded the campus, filling every corner, every game booth, every classroom, and of course including ours.",
                annotation: "Vivid Imagery",
                explanation: "Use of the plural noun phrase ('Waves after waves') creates a dynamic scene, illustrating the crowd size effectively.",
                category: "Language"
            },
            {
                id: 14,
                text: "Although other helpers and I felt nervous and uneasy in the beginning, we were soon to adopt and promptly greeted our guests, trying our very best to show our burning passion by introducing the thoughts we put behind the gallery.",
                annotation: "Showing Growth & Action",
                explanation: "The writer demonstrates communication skills and adaptability under pressure.",
                category: "Content"
            },
            {
                id: 15,
                text: "The feedback was overwhelmingly positive: some complimented the innovative idea of the gallery itself, loving the paintings made by our schoolmates; others appreciated our chalk art. In simple words, it was a huge success.",
                annotation: "Clear Evaluation of Outcome",
                explanation: "Summarizes the positive feedback received, supporting the overall success narrative.",
                category: "Content"
            },
            {
                id: 16,
                text: "While the triumph was definitely encouraging, what truly touched my heart was not the compliments we receive or the gallery we created ‚Äî it was seeing the old boys coming back to their mother school.",
                annotation: "Thematic Pivot (The Core Memory)",
                explanation: "Uses contrast ('While... not... it was') to signal the shift to the most important, emotional part of the essay.",
                category: "Reflection"
            },
            {
                id: 17,
                text: "Upon their first steps into our room, I can immediately tell that those young men walking inside were old boys. The smiles on their face, the look of approval and encouragement as they glanced around the gallery, the gasps followed by bursts of laughter as they saw their own works displayed‚Ä¶",
                annotation: "Sensory Detail (Show, Don't Tell)",
                explanation: "Instead of saying 'I was happy to see them,' the writer describes their actions and expressions ('smiles on their face, gasps followed by bursts of laughter').",
                category: "Language"
            },
            {
                id: 18,
                text: "My heart was filled with warmth as I saw them look around the gallery and reminisce their lives in their school, appreciating their own work.",
                annotation: "Deep Reflection",
                explanation: "Connects the sensory observations to the writer's internal emotional state.",
                category: "Reflection"
            },
            {
                id: 19,
                text: "I almost received the same question from all of them: ‚ÄúCan I meet the Visual Arts teacher? I want to thank him.‚Äù",
                annotation: "Authentic Dialogue & Specific Detail",
                explanation: "Quoting a specific, recurring question adds authenticity and reveals the strong bond between students and staff.",
                category: "Content"
            },
            {
                id: 20,
                text: "It was apparent that there existed a connection so deep between students and teachers, students and the school, that traversed time and space.",
                annotation: "Insightful Conclusion",
                explanation: "The writer derives a mature, abstract idea (an 'unbreakable bond') from the concrete experience. This is the hallmark of high-level analysis.",
                category: "Reflection"
            },
            {
                id: 21,
                text: "One old boy approached us as he laid his hand on my shoulder, ‚ÄúThanks for the good work. Keep it up.‚Äù It felt nostalgic to see our old drawings and meet our teachers again.",
                annotation: "Emotional Weight",
                explanation: "Includes a final piece of dialogue and personal reaction, cementing the emotional experience.",
                category: "Reflection"
            },
            {
                id: 22,
                text: "At that moment I was proud that I was a student in Sing Yin Secondary School, a member of a community that bridges people across generations and generations.",
                annotation: "Concluding Reflection",
                explanation: "Summarizes the main realization of the experience‚Äîthe sense of community and pride.",
                category: "Reflection"
            },
            {
                id: 23,
                text: "Old boys I met, the paintings we displayed ‚Äî they were more than just people and paintings ‚Äî they represented a community of connection, warmth, and happiness.",
                annotation: "Thematic Ending",
                explanation: "A final, powerful statement that echoes the title and wraps up the main idea, leaving the reader with a clear, positive message.",
                category: "Structure"
            }
        ];

        const checklistItems = [
            { id: "c1", title: "Title & Hook", desc: "Use a strong, non-generic title and an atmospheric opening.", category: "Structure" },
            { id: "c2", title: "Setting the Scene", desc: "Describe the atmosphere using sensory details before discussing your role.", category: "Content" },
            { id: "c3", title: "Role & Purpose", desc: "Clearly state your role (e.g., Club Chairperson) and the article's dual focus.", category: "Structure" },
            { id: "c4", title: "Preparation Detail", desc: "Chronological process with at least two specific tasks.", category: "Content" },
            { id: "c5", title: "Adding Realism", desc: "Include one challenge faced (time, resources) to validate the effort.", category: "Content" },
            { id: "c6", title: "Strong Verbs", desc: "Use sophisticated vocabulary (e.g., meticulously, encapsulates).", category: "Language" },
            { id: "c7", title: "Seamless Transition", desc: "Link preparation to event day smoothly.", category: "Structure" },
            { id: "c8", title: "Sensory Detail", desc: "Show, don't tell. Describe what you saw, heard, or felt.", category: "Language" },
            { id: "c9", title: "Memorable Experience", desc: "Ensure the memory is reflective and emotional, explaining significance.", category: "Reflection" },
            { id: "c10", title: "Insightful Conclusion", desc: "Reflect on a larger theme (community, legacy, growth).", category: "Reflection" }
        ];

        // --- Core Application Logic ---

        // 1. Render Essay
        function renderEssay() {
            const container = document.getElementById('essay-content');
            let html = '';
            
            essayData.forEach(segment => {
                const isTitle = segment.id === 1;
                const className = isTitle 
                    ? "block text-2xl font-bold mb-4 interactive-text rounded px-1" 
                    : "inline interactive-text rounded px-1 leading-loose mr-1";
                
                html += `<span 
                            class="${className}" 
                            data-id="${segment.id}" 
                            onclick="handleSegmentClick(${segment.id})">
                            ${segment.text}
                         </span>`;
                // Add paragraph breaks logically based on ID groups or just keeping it fluid.
                // For this model, specific breaks match the source visually.
                if ([5, 11, 15, 18, 21, 23].includes(segment.id)) {
                    html += '<br><br>';
                }
            });
            container.innerHTML = html;
        }

        // 2. Handle Interaction
        function handleSegmentClick(id) {
            // Remove active class from all
            document.querySelectorAll('.interactive-text').forEach(el => el.classList.remove('active'));
            
            // Add active class to clicked
            const clickedEl = document.querySelector(`.interactive-text[data-id="${id}"]`);
            if(clickedEl) clickedEl.classList.add('active');

            // Find data
            const data = essayData.find(d => d.id === id);
            
            // Update Panel
            updateInsightPanel(data);
        }

        function updateInsightPanel(data) {
            const panel = document.getElementById('insight-panel');
            
            // Define colors based on category
            let badgeColor = "bg-stone-200 text-stone-800";
            if(data.category === "Structure") badgeColor = "bg-blue-100 text-blue-800";
            if(data.category === "Content") badgeColor = "bg-emerald-100 text-emerald-800";
            if(data.category === "Language") badgeColor = "bg-purple-100 text-purple-800";
            if(data.category === "Reflection") badgeColor = "bg-amber-100 text-amber-800";

            panel.innerHTML = `
                <div class="animate-fade-in-up w-full text-left">
                    <span class="inline-block px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide mb-3 ${badgeColor}">
                        ${data.category}
                    </span>
                    <h3 class="text-xl font-bold text-stone-900 mb-4 border-b border-stone-200 pb-2">
                        ${data.annotation}
                    </h3>
                    <p class="text-stone-700 leading-relaxed text-lg">
                        ${data.explanation}
                    </p>
                    <div class="mt-6 pt-4 border-t border-stone-200 text-sm text-stone-500 italic">
                        Context: Segment #${data.id}
                    </div>
                </div>
            `;
        }

        // 3. Render Checklist
        function renderChecklist() {
            const container = document.getElementById('checklist-container');
            let html = '';
            
            checklistItems.forEach(item => {
                html += `
                    <div class="checklist-item bg-white p-5 rounded-lg border border-stone-200 shadow-sm cursor-pointer hover:border-amber-400 transition group" onclick="toggleChecklist(this)">
                        <div class="flex items-start justify-between mb-2">
                            <h4 class="font-bold text-stone-800 group-hover:text-amber-700">${item.title}</h4>
                            <div class="h-6 w-6 rounded-full border-2 border-stone-300 flex items-center justify-center check-circle">
                                <span class="text-white text-sm font-bold opacity-0 transition">‚úì</span>
                            </div>
                        </div>
                        <p class="text-sm text-stone-600">${item.desc}</p>
                        <span class="text-xs text-stone-400 mt-2 block uppercase tracking-wider">${item.category}</span>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function toggleChecklist(el) {
            el.classList.toggle('completed');
            el.classList.toggle('bg-stone-50');
            const check = el.querySelector('.check-circle');
            const tick = el.querySelector('.check-circle span');
            
            if (el.classList.contains('completed')) {
                check.classList.remove('border-stone-300');
                check.classList.add('bg-green-500', 'border-green-500');
                tick.classList.remove('opacity-0');
            } else {
                check.classList.add('border-stone-300');
                check.classList.remove('bg-green-500', 'border-green-500');
                tick.classList.add('opacity-0');
            }
            updateProgress();
        }

        function updateProgress() {
            const total = checklistItems.length;
            const completed = document.querySelectorAll('.checklist-item.completed').length;
            const pct = (completed / total) * 100;
            
            document.getElementById('progress-text').textContent = completed;
            document.getElementById('progress-bar').style.width = `${pct}%`;
            
            if(completed === total) {
                document.getElementById('progress-bar').classList.add('bg-green-500');
                document.getElementById('progress-bar').classList.remove('bg-amber-600');
            }
        }

        // 4. Initialize Chart
        function initChart() {
            // Count categories
            const counts = { Structure: 0, Content: 0, Language: 0, Reflection: 0 };
            essayData.forEach(d => {
                if(counts[d.category] !== undefined) counts[d.category]++;
            });

            const ctx = document.getElementById('skillsChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Structure', 'Content', 'Language', 'Reflection'],
                    datasets: [{
                        label: 'Frequency in Model Essay',
                        data: [counts.Structure, counts.Content, counts.Language, counts.Reflection],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.7)', // Blue - Structure
                            'rgba(16, 185, 129, 0.7)', // Emerald - Content
                            'rgba(147, 51, 234, 0.7)', // Purple - Language
                            'rgba(245, 158, 11, 0.7)'  // Amber - Reflection
                        ],
                        borderColor: [
                            'rgb(59, 130, 246)',
                            'rgb(16, 185, 129)',
                            'rgb(147, 51, 234)',
                            'rgb(245, 158, 11)'
                        ],
                        borderWidth: 1,
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { stepSize: 1 }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.raw} Instances Found`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Utils
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // Mobile Menu
        document.getElementById('mobile-menu-btn').addEventListener('click', () => {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderEssay();
            renderChecklist();
            initChart();
        });

    </script>
</body>
</html>